// SPDX-License-Identifier: MIT
pragma solidity ^0.8.7;

contract ArtScript {
    string public constant PROJECT_NAME = "It's (a)live";
    string public constant ARTIST_NAME = "Tibout Shaik";
    string public constant EXTERNAL_LIBRARY =
        "https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js";
    string public constant TWOFIVESIX_LIBRARY = "None";
    string public constant LICENSE = "NFT License";
    string public constant ARTSCRIPT =
        "class t{constructor(){this.useA=!1;let t=function(t){let s=parseInt(t.substr(0,8),16),e=parseInt(t.substr(8,8),16),i=parseInt(t.substr(16,8),16),o=parseInt(t.substr(24,8),16);return function(){s|=0,e|=0,i|=0,o|=0;let t=(s+e|0)+o|0;return o=o+1|0,s=e^e>>>9,e=i+(i<<3)|0,i=i<<21|i>>>11,i=i+t|0,(t>>>0)/4294967296}};this.prngA=new t(inputData.hash.substr(2,32)),this.prngB=new t(inputData.hash.substr(34,32));for(let t=0;t<1e6;t+=2)this.prngA(),this.prngB()}random_dec(){return this.useA=!this.useA,this.useA?this.prngA():this.prngB()}random_num(t,s){return t+(s-t)*this.random_dec()}random_int(t,s){return Math.floor(this.random_num(t,s+1))}random_bool(t){return this.random_dec()<t}random_choice(t){return t[this.random_int(0,t.length-1)]}}let s,e,i,o,h,r,l,n,a,d,c,p,x,f,y,u,w=0,g=1;const b=1.4142,E=.075,k=[],C=[],S=[],B=[],A=[],v=['#222328','#25272C','#2B272B','#272B29','#2A2926'],G=['#EAE2E2','#EBE5E1','#E2E2E2','#D9D9D9'],D=['#d1f1f0','#386373','#f5e7c8','#eecdad','#f7dbaf'],V=()=>{s=new t;let m=~~(123456789*s.random_dec());for(randomSeed(m),noiseSeed(m);w<1||w>10;)w=floor(randomGaussian(4.5,3));i=floor(8*w),o=floor(1.4142*i),h=$([['full',1],['hill',4],['vertigo',2],['tower',4],['pass',2]]),r=$([['random',3],['spiral',1],['grid',1]]),e=floor(random(4,6)),l=random()>.9?25:floor(random(6)),n=M(),a=P(),d=[['brick',floor(random(15,25))],['steel',floor(random(6))],['paint',l]],c=p5.Vector.fromAngle(random(PI)).setMag(random(.002,.004)),x=random()>.5,p=x?random(v):random(G),f=random()>.8,y=random()>.8,u=w>3&&x&&random()>.88},M=()=>{let t='#DCDBD0',s='#C3C2B7',e='#D39C84',i='#E1B099',o='#EEEEEE',h='#DDDDDD',r='#BAA397',l='#BA9686',n='#BDC8CB',a='#D4DDDE',d='#BD4C58',c='#E2B674',p='#66A782',m='#8777B8',x='#83A8D8',f='#DCAFBD',y='#437BB6',u='#2C816F',w='#555555';const g={brick:[{name:'Cinder blocks',colors:[[t,s],1]},{name:'Bricks',colors:[[e,i],1]},{name:'Cinder blocks & lime',colors:[[t,s,o,h],1]},{name:'Cinder blocks & bricks',colors:[[t,s,e,i],1]},{name:'Lime & bricks',colors:[[o,h,e,i],1]},{name:'Cinder, lime & bricks',colors:[[t,s,o,h,e,i],1]}],steel:[{name:'Rusty',colors:[[r,l],1]},{name:'Shiny',colors:[[n,a],1]},{name:'Mixed',colors:[[r,l,n,a],1]}],paint:[{name:'Red & Yellow',colors:[[d,c],1]},{name:'Red & Green',colors:[[d,p],1]},{name:'Yellow & Green',colors:[[c,p],1]},{name:'Yellow & Pink',colors:[[c,f],1]},{name:'Red, Yellow & Green',colors:[[d,c,p],1]},{name:'Yellow & Purple',colors:[[c,m],1]},{name:'Yellow, Purple & Pink',colors:[[c,m,f],1]},{name:'Green & Purple',colors:[[p,m],1]},{name:'Green, Yellow & Purple',colors:[[p,c,m],1]},{name:'Pink & Blue',colors:[[f,x],1]},{name:'Green & Blue',colors:[[p,x],1]},{name:'Green & Pink',colors:[[p,f],1]},{name:'Red & Blue',colors:[[d,x],1]},{name:'RGB',colors:[[d,p,x],1]},{name:'RGB & Yellow',colors:[[d,p,x,c],1]},{name:'RAINBOW!',colors:[[d,p,x,c,m,f],1]}],tarpaulin:[{name:'Blue, Green & Black',colors:[[y,u,w],1]},{name:'Blue & Green',colors:[[y,u],2]},{name:'Blue & Black',colors:[[y,w],2]},{name:'Green & Black',colors:[[u,w],2]},{name:'Blue only',colors:[[y],3]},{name:'Green only',colors:[[u],3]},{name:'Black only',colors:[[w],3]}],stairs:[{name:'palette 1',colors:[[s],1]}]};let b={};for(type in g){let t=[];g[type].forEach((s=>t.push(s.colors)));let s=$(t);g[type].forEach((t=>{t.colors[0]===s&&(b[type]={name:t.name,colors:s})}))}return b},P=()=>{let t=[];for(m in n)t=t.concat(n[m].colors);return t};setup=()=>{V(),colorMode(HSB),noLoop();let t=Math.min(window.innerWidth,window.innerHeight);createCanvas(t,1.4142*t),W(i,o),R(),Y(),F(),'full'!==h&&X(),C.sort(((t,s)=>t.getY()-s.getY())),A.sort(((t,s)=>t.basePoints[0].y-s.basePoints[0].y))},draw=()=>{background(p),strokeCap(SQUARE),T(),'full'!==h&&H(),C.forEach((t=>t.show())),A.forEach((t=>t.show()))};const W=()=>{for(let t=0;t<i;t++){k[t]=[];for(let s=0;s<o;s++)k[t][s]=!0}},R=()=>{'hill'===h?k.forEach(((t,s)=>{let e=map(noise((s+8)/i),.1,.9,0,.8*t.length);for(let s=0;s<e;s++)t[s]=!1})):'vertigo'===h?function(){let t=o+random(-20,5)*(w/5),s=random(.25*i,.75*i),e=random(.75*i,4*i);k.forEach(((i,h)=>{let r=o-map(exp(-(h-s)*(h-s)/e),0,1,0,t);for(let t=0;t<r;t++)i[t]=!1}))}():'tower'===h?function(){let t,s,e=2,i=o/5,h=floor(random(e,i)),r=floor(random(e,i));for(let l=0;l<k[0].length;l++){l%h/o==0&&(t=map(noise(l/(.5*o)),.1,.9,-2,.5*k.length),h=floor(random(e,i))),l%r/o==0&&(s=map(noise((l+100)/(.5*o)),.1,.9,.5*k.length,k.length+2),r=floor(random(e,i)));for(let e=0;e<k.length;e++)(e<t||e>=s)&&(k[e][l]=!1)}}():'pass'===h&&function(){let t=i*random(.1,.9),s=o*random(.3,.67),e=random(-.3,-3);k.forEach(((i,o)=>{let h=e*abs(o-t)+s;for(let t=0;t<h;t++)i[t]=!1}))}()},Y=()=>{let t,s=!1;for(;!s;){let h=floor(random(.1*i,.9*i)),r=floor(random(.5*o,1*o));t={x:h,y:r,sX:floor(constrain(random(g,e),1,i-h)),sY:floor(constrain(random(g,e),1,o-r))},O(t.x,t.y,t.sX,t.sY)&&(s=!0)}for(S.push(t),L(t.x,t.y,t.sX,t.sY);S.length>0;){let t=floor(random(S.length)),s=S[t],i=!1;for(let t=0;t<260;t++){let t=floor(random(g,e)),o=floor(random(g,e)),h=floor(random(s.x-t,s.x+s.sX+t)),r=floor(random(s.y-o,s.y+s.sY+o));if(O(h,r,t,o)){i=!0,S.push({x:h,y:r,sX:t,sY:o}),L(h,r,t,o);break}}i||S.splice(t,1)}},O=(t,s,e,h)=>{if(t<0||t>i-1||s<0||s+h>o)return!1;try{for(let i=t;i<t+e;i++)for(let t=s;t<s+h;t++)if(!1===k[i][t])return!1;return!0}catch{return!1}},L=(t,s,e,h)=>{const r=.85/i,l=1.2642/o;let n=[];for(let i=t;i<=t+e;i++)n.push({x:i*r+.075,y:s*l+.075});let a=[];for(let i=s;i<=s+h;i++)a.push({x:t*r+.075+e*r,y:i*l+.075});let d=[];for(let i=t+e;i>=t;i--)d.push({x:i*r+.075,y:s*l+.075+h*l});let c,p,m=[];for(let e=s+h;e>=s;e--)m.push({x:t*r+.075,y:e*l+.075});random()>.5?(c=[n,a,d,m],p=!1):(c=[a,d,m,n],p=!0);let x=new _(c,p,e,h);C.push(x);for(let i=t;i<t+e;i++)for(let t=s;t<s+h;t++)k[i][t]=!1},F=()=>{const t=map(w,1,6,1.25,2);C.forEach((s=>{s.points.forEach((e=>{e.forEach((e=>{let i=map(noise(e.x*t,e.y*t),0,1,-.5,.5);i*=.04,e.x+=i,e.y+=i,s.x=s.getX(),s.y=s.getY(),s.w=s.getWidth(),s.h=s.getHeight()}))})),s.burning&&s.buildFlames()}))},T=()=>{push(),scale(width),noFill();let t=1e3,s=.0014142,e=x?.75:1.2;strokeWeight(random(.05*s,.2*s));for(let i=0;i<=t;i++){let t=s*i,o=random(300,700);for(let i=0;i<o;i++){let h=1/o*i;strokeWeight(.7*s),stroke(Q(p,{h:random(-10,10),s:randomGaussian(0,.5),b:randomGaussian(0,e)})),noise(2*h,9*t)>.6&&stroke(Q(p,{h:random(-10,10),s:randomGaussian(0,.5),b:randomGaussian(0,1.25*e)})),line(h,t+randomGaussian(0,.001),1/o*(i+1),t+randomGaussian(0,.001))}}pop()},X=()=>{let t=.5;if('random'===r){let s=random(30,150);for(let e=0;e<s;e++){let s=randomGaussian(.005,.008),e=s*random(1.25,2),i=.075*1.5;B.push({x:random(i,1-i),y:random(i,1.4142-i),w:s,h:e,col:Q(random(a),x?{b:-20,A:t}:{A:t})})}}else if('spiral'===r){let s=.1,e={x:random(-s,1+s),y:random(-s,1.4142+s)},i=random(800,1400),o=0,h=random(80,180),r=.12;for(let s=0;s<i;s++){t=x?map(s,0,i/2,0,.6,!0):map(s,0,i,0,1,!0);let l=e.x+cos(o)*(o/h),n=e.y+sin(o)*(o/h);if(l>.075*1.5&&l<.8875&&n>.075&&n<1.4142-.075*1.5&&s>2){let s=constrain(randomGaussian(.005,.008),.0025,.01),e={x:l,y:n,w:s,h:s*random(1.25,2),col:Q(random(a),x?{b:-20,A:t}:{A:t})};B.push(e)}o+=r,r-=5e-5}}else if('grid'===r)for(let s=1;s<i;s++)for(let e=1;e<o-1;e++)if(s%2==0&&e%2==0||w<3){let h=.85*s/i+.075,r=1.2642*e/o+.075,l=constrain(randomGaussian(.005,.008),.0025,.01),n={x:h,y:r,w:l,h:l*random(1.25,2),col:Q(random(a),x?{b:-20,A:t}:{A:t})};B.push(n)}},H=()=>{push(),scale(width),noFill(),B.forEach((t=>{stroke(t.col),N({x:t.x-t.w/2,y:t.y},{x:t.x+t.w/2,y:t.y},t.w),N({x:t.x,y:t.y-.3*t.h},{x:t.x,y:t.y+.7*t.h},t.w)})),pop()},N=(t,s,e)=>{strokeWeight(.001);let i=1e3*e,o=5e-4;for(let e=0;e<i;e++){let h=lerp(t.x,s.x,1/i*e),r=lerp(t.y,s.y,1/i*e);for(let t=0;t<5;t++){let t=h+randomGaussian(0,o),s=r+randomGaussian(0,o);point(t,s)}}};keyPressed=()=>{'s'!==key&&'S'!==key||saveCanvas(hash,'png'),'w'!==key&&'W'!==key||(f=!f,redraw()),'e'!==key&&'E'!==key||(y=!y,C.forEach((t=>{t.windows.forEach((t=>{t.forEach((t=>{t.lightOn=y&&x&&t.light}))}))})),redraw())};class _{constructor(t,s,e,i){this.points=t,this.vertical=s,this.spanX=e,this.spanY=i,this.x=this.getX(),this.y=this.getY(),this.w=this.getWidth(),this.h=this.getHeight(),this.type=this.pickType(),this.palette=n[this.type],this.burning=u&&'stairs'!==this.type&&random()>.75,this.col=Q(random(this.palette.colors),{s:random(-3,3),b:random(-4,4)}),x&&!this.palette.name.includes('Black')&&(this.col=Q(this.col,{s:this.palette.name.includes('lime')?0:5,b:this.palette.name.includes('lime')?-30:-20})),u&&!this.palette.name.includes('Black')&&(this.col=Q(this.col,{s:this.palette.name.includes('lime')?0:5,b:-20})),this.masking=!0,this.mask=createGraphics(floor(this.w*width*1.25),floor(this.h*width*1.25)),this.texture=createGraphics(floor(this.w*width*1.25),floor(this.h*width*1.25)),this.texVars=[],this.buildTexVars(),this.windows=[],this.buidlWindows(),this.ropes=[],this.buildRopes()}pickType(){return this.h>=3*this.w?random()>.6?$(d):'stairs':this.spanX<e/2&&this.spanY<e/2?random()>.25?$(d):'tarpaulin':$(d)}getX(){let t=1;return this.points.forEach((s=>{s.forEach((s=>{s.x<t&&(t=s.x)}))})),t}getY(){let t=1.4142;return this.points.forEach((s=>{s.forEach((s=>{s.y<t&&(t=s.y)}))})),t}getWidth(){let t=1,s=0;return this.points.forEach((e=>{e.forEach((e=>{e.x>s&&(s=e.x),e.x<t&&(t=e.x)}))})),s-t}getHeight(){let t=1.4142,s=0;return this.points.forEach((e=>{e.forEach((e=>{e.y>s&&(s=e.y),e.y<t&&(t=e.y)}))})),s-t}buildTexVars(){if('steel'===this.type)for(let t=0;t<200;t++)this.texVars.push(Q(this.col,{s:random(-5,5),b:t%2==0?random(-30,-20):random(-10,2)}));else if('brick'===this.type){this.texVars.push(random(-10,10));for(let t=0;t<500;t++)this.texVars.push(random(-2,2))}else if('tarpaulin'===this.type)for(let t=0;t<1e3;t++)this.texVars.push({r:random(),c:random(-2,3),x1:this.x+random(this.w),y1:this.y+random(this.h),x2:this.x+random(this.w),y2:this.y+random(this.h)})}show(){const t=this.texture;if(t.colorMode(HSB),t.rectMode(CENTER),t.strokeCap(SQUARE),t.background(Q(this.col,{B:40})),t.push(),t.scale(width),t.translate(-this.x,-this.y),'steel'===this.type){push(),scale(width),blendMode(MULTIPLY),fill(0,0,0,.3),noStroke(),beginShape(),this.points.forEach((t=>{t.forEach((t=>vertex(t.x+c.x,t.y+c.y)))})),endShape(CLOSE),blendMode(BLEND),pop(),t.noFill();let s,e=.03/i;t.strokeWeight(e),s=this.vertical?this.w/e*1.1:this.h/e*1.1;let o=this.points[0],h=[...this.points[2]].reverse();for(let e=0;e<s;e++){t.stroke(this.texVars[e]),t.beginShape();for(let i=0;i<o.length;i++)this.vertical?t.vertex(lerp(o[i].x,h[i].x,1/s*e),lerp(o[i].y,h[i].y,1/o.length*i)):t.vertex(lerp(o[i].x,h[i].x,1/o.length*i),lerp(o[i].y,h[i].y,1/s*e));t.endShape()}}else if('brick'===this.type){t.fill(Q(this.col,{b:-8})),t.noStroke(),t.beginShape(),this.points.forEach((s=>{s.forEach((s=>t.vertex(s.x,s.y)))})),t.endShape(CLOSE),t.noFill();let s=.015/w,e=this.h/s*1.1,i=this.vertical?this.points[1]:this.points[0],o=this.vertical?[...this.points[3]].reverse():[...this.points[2]].reverse();t.strokeWeight(.75*s);let h=this.texVars[0];for(let s=0;s<e;s++){let r=[];for(let t=0;t<i.length;t++)r.push({x:lerp(i[t].x,o[t].x,1/i.length*t),y:lerp(i[t].y,o[t].y,1/e*s)});let l=4;for(let e=0;e<r.length-1;e++)for(let i=-1;i<l+1;i++){let o={x:lerp(r[e].x,r[e+1].x,1/l*i+s%2*1/l/2),y:lerp(r[e].y,r[e+1].y,1/l*i)},n={x:.001+lerp(r[e].x,r[e+1].x,1/l*(i+1)+s%2*1/l/2),y:lerp(r[e].y,r[e+1].y,1/l*(i+1))},a=20*map(noise(10*(h+o.x),10*(h+o.y)),0,1,-.5,.5);t.stroke(Q(this.col,{b:this.texVars[1+s+e*r.length+(i+1)*l*r.length]+a})),t.line(o.x,o.y,n.x,n.y)}}}else if('paint'===this.type)t.fill(this.col),t.noStroke(),t.beginShape(),this.points.forEach((s=>{s.forEach((s=>t.vertex(s.x,s.y)))})),t.endShape(CLOSE);else if('tarpaulin'===this.type){t.fill(this.col),t.noStroke(),t.beginShape(),this.points.forEach((s=>{s.forEach((s=>t.vertex(s.x,s.y)))})),t.endShape(CLOSE),t.noFill(),t.strokeWeight(.01/i);for(let s=0;s<1e3/this.spanX;s++)this.texVars[s].r>.5?t.stroke(Q(this.col,{s:-5,b:this.texVars[s].c})):t.stroke(Q(color(40,20,70),{s:-5,b:this.texVars[s].c,A:.05})),t.line(this.texVars[s].x1,this.texVars[s].y1,this.texVars[s].x2,this.texVars[s].y2)}else if('stairs'===this.type){t.fill(this.col),t.noStroke(),t.beginShape(),this.points.forEach((s=>{s.forEach((s=>t.vertex(s.x,s.y)))})),t.endShape(CLOSE);let s=this.vertical?this.points[1]:this.points[0],e=this.vertical?[...this.points[3]].reverse():[...this.points[2]].reverse(),i=.012/w,o=this.h/i*1.1;t.noFill();for(let h=0;h<o;h++){t.strokeWeight(this.h/o),t.stroke(Q(this.col,{b:h%2*8})),t.line(lerp(s[0].x,e[0].x,1/o*h),lerp(s[0].y,e[0].y,1/o*h),lerp(s[s.length-1].x,e[e.length-1].x,1/o*h),lerp(s[s.length-1].y,e[e.length-1].y,1/o*h)),t.strokeWeight(this.h/o/15),t.stroke(Q(this.col,{b:-8}));let r=this.vertical?.5*i:.5*-i;t.line(lerp(s[0].x,e[0].x,1/o*h),lerp(s[0].y,e[0].y,1/o*h)+r,lerp(s[s.length-1].x,e[e.length-1].x,1/o*h),lerp(s[s.length-1].y,e[e.length-1].y,1/o*h)+r)}}else t.fill(this.col),t.noStroke(),t.beginShape(),this.points.forEach((s=>{s.forEach((s=>t.vertex(s.x,s.y)))})),t.endShape(CLOSE);this.showWindows(),f&&this.ropes.length>0&&this.showRopes(),t.pop(),this.createMask(),this.masking&&this.maskTexture(),image(t,this.x*width,this.y*width)}buidlWindows(){if('brick'===this.type||'paint'===this.type||'steel'===this.type&&random()>.4){let t=this.vertical?this.points[1].length:this.points[0].length,s=this.vertical?this.points[0].length:this.points[1].length,e=random(-.02,.02)/w,i=random(-.03,.03)/w,o=this.w/t*random(.3,.7),h=this.h/s*random(.25,.6);for(let r=1;r<s;r++){let l=i+this.y+this.h/s*r+random(-.015,.015)/w,n=[];for(let s=1;s<t;s++){let i=e+this.x+this.w/t*s,r=random()<.8?o:o/2;random()>.3&&n.push(new I(i,l,r,h,this.col,this.texture,this.burning))}this.windows.push(n)}}}buildRopes(){if(this.windows){let t=a;this.windows.forEach((s=>{if(s.length>1&&random()>.5){let e={y:s[0].y+.3*s[0].h,x1:s[0].x-.6*s[0].w,x2:s[s.length-1].x+.6*s[s.length-1].w,clothes:[]},o=random(1,3)*s.length;for(let s=0;s<o;s++){let s=e.x2-e.x1,h=random(s/(2*o),s/o*1.5);e.clothes.push({x:e.x1+random(s-h),y:e.y-.01/i,w:h,h:random(.25,.33)/i,col:x?Q(random(t),{b:-15}):random(t)})}this.ropes.push(e)}}))}}showWindows(){this.windows.forEach((t=>{t.forEach((t=>t.show()))}))}showRopes(){if(!this.burning){let t=this.texture;t.rectMode(CORNER),this.ropes.forEach((s=>{t.noFill(),t.stroke(x?'#AAAAAA':'#CCCCCC'),t.strokeWeight(.02/i),t.line(s.x1,s.y,s.x2,s.y),s.clothes.forEach((s=>{t.noStroke(),t.fill(Q('black',{A:.15})),t.rect(s.x+c.x,s.y+c.y,s.w,s.h)})),s.clothes.forEach((s=>{t.fill(s.col),t.rect(s.x,s.y,s.w,s.h)}))}))}}buildFlames(){let t=this.vertical?this.points[3]:this.points[0],s=new U(t,6);A.push(s),this.windows.forEach((t=>{t.forEach((t=>{let s=[{x:t.x-t.w/2,y:t.y+t.h/2},{x:t.x+t.w/2,y:t.y+t.h/2}],e=new U(s,3);A.push(e)}))}))}createMask(){const t=this.mask;t.push(),t.scale(width),t.translate(-this.x,-this.y),t.fill('red'),t.noStroke(),t.beginShape(),this.points.forEach((s=>{s.forEach((s=>t.vertex(s.x,s.y)))})),t.endShape(CLOSE),t.pop()}maskTexture(){this.mask.loadPixels();const t=this.texture;t.loadPixels();for(let s=0;s<t.pixels.length;s+=4){let e,i=this.x*width+ceil(s/4%(4*t.width)),o=this.y*width+ceil(s/4/(4*t.width));e='tarpaulin'===this.type?randomGaussian(0,6)-40*noise(i/400,o/50):randomGaussian(0,6)+map(noise(s/400,s/200),0,1,-3,8),t.pixels[s+0]+=e,t.pixels[s+1]+=e,t.pixels[s+2]+=e,t.pixels[s+3]=this.mask.pixels[s+3]}t.updatePixels()}}class I{constructor(t,s,e,h,r,l,n){this.x=t,this.y=s,this.w=e,this.h=h,this.col=r,this.texture=l,this.type=$([['open',3],['closed',6],['cardboard',3]]),this.hasMiddleVBar=this.w>.2/i,this.hasMiddleHBar=this.h>.2/o,'cardboard'===this.type&&(this.cardboardCol=color(random(25,40),random(15,30),x?random(35,50):random(55,70))),this.frameCol=random()>.5?Q(this.col,{b:-20}):Q(this.col,{b:5}),this.texVars=[],this.buildTexVars(),this.light=!n&&random()>.3,this.lightOn=y&&x&&this.light,this.lightCol=Q(random(D),{h:randomGaussian(0,2),s:random(-5,5),b:random(-3,3)})}buildTexVars(){for(let t=0;t<200/i;t++)this.texVars.push({c:randomGaussian(0,5),x1:random(this.x-this.w/2,this.x+this.w/2),y1:random(this.y-this.h/2,this.y+this.h/2),x2:random(this.x-this.w/2,this.x+this.w/2),y2:random(this.y-this.h/2,this.y+this.h/2)})}halo(){const t=this.texture;this.lightOn&&(t.blendMode(SCREEN),t.drawingContext.filter=`blur(${4*pixelDensity()}px)`,t.fill(this.lightCol),t.rect(this.x,this.y,this.w,this.h),t.drawingContext.filter='none',t.blendMode(BLEND))}show(){const t=this.texture,s=.003/w;let e=Q(this.col,{s:-10,b:-35}),o=this.lightOn?this.lightCol:Q(this.col,{s:5,b:-50});if(t.noStroke(),'open'===this.type)this.halo(),t.fill(o),t.rect(this.x,this.y,this.w,this.h),t.strokeWeight(s),t.stroke(Q(this.col,{b:this.lightOn?-10:-50})),t.line(this.x-this.w/2,this.y-this.h/2,this.x+this.w/2,this.y-this.h/2);else if('cardboard'===this.type){t.fill(this.cardboardCol),t.rect(this.x,this.y,this.w,this.h),t.strokeWeight(s/5);for(let s=0;s<200/i;s++)t.stroke(Q(this.cardboardCol,{b:this.texVars[s].c})),t.line(this.texVars[s].x1,this.texVars[s].y1,this.texVars[s].x2,this.texVars[s].y2);t.strokeWeight(s),t.stroke(Q(this.cardboardCol,{b:-20})),t.line(this.x-this.w/2,this.y-this.h/2,this.x+this.w/2,this.y-this.h/2)}else'closed'===this.type&&(t.fill(this.lightOn?this.lightCol:e),t.rect(this.x,this.y,this.w,this.h),t.noFill(),t.strokeWeight(s),t.stroke(this.frameCol),this.hasMiddleVBar&&t.line(this.x,this.y-this.h/2,this.x,this.y+this.h/2),this.hasMiddleHBar&&t.line(this.x-this.w/2,this.y-this.h/8,this.x+this.w/2,this.y-this.h/8),t.stroke(this.frameCol),t.strokeCap(PROJECT),t.line(this.x-this.w/2,this.y+this.h/2,this.x+this.w/2,this.y+this.h/2),t.line(this.x+this.w/2,this.y-this.h/2,this.x+this.w/2,this.y+this.h/2),t.line(this.x-this.w/2,this.y+this.h/2,this.x-this.w/2,this.y-this.h/2),t.stroke(Q(this.frameCol,{b:-30})),t.line(this.x-this.w/2,this.y-this.h/2,this.x+this.w/2,this.y-this.h/2),t.strokeCap(SQUARE),this.halo())}}class U{constructor(t,s){this.basePoints=t,this.shapes=[],this.steps=s;for(let t=1;t<7;t++)this.shapes.push(this.buildShape(t))}buildShape(t){let s={points:[...this.basePoints].reverse(),col:color(random(35,50)-5*t,68,100)},e=this.basePoints.length-1;for(let o=0;o<e;o++)for(let e=0;e<this.steps;e++){let h=lerp(this.basePoints[o].x,this.basePoints[o+1].x,e/this.steps)+randomGaussian(0,.05/i),r=this.basePoints[0].y-abs(randomGaussian(0,.1/i/(t/3)));s.points.push({x:h,y:r})}return s}show(){const t=t=>{blendMode(SCREEN),drawingContext.filter=`blur(${t*pixelDensity()}px)`,fill(this.shapes[0].col),beginShape(),this.shapes[0].points.forEach((t=>{vertex(t.x,t.y)})),endShape(CLOSE),blendMode(BLEND),drawingContext.filter='none'};push(),scale(width),noStroke(),t(15),this.shapes.forEach(((t,s)=>{s===this.shapes.length-1&&(blendMode(SCREEN),drawingContext.filter=`blur(${6*pixelDensity()}px)`),fill(Q(t.col,{A:.8})),beginShape(),t.points.forEach((t=>{vertex(t.x,t.y)})),endShape(CLOSE),1===s&&(blendMode(BLEND),drawingContext.filter='none')})),t(6),pop()}}function Q(t,s){let e,i,o,h;return e=s.H?s.H:s.h?hue(t)+s.h:hue(t),i=s.S?s.S:s.s?saturation(t)+s.s:saturation(t),o=s.B?s.B:s.b?brightness(t)+s.b:brightness(t),h=s.A?s.A:s.a?alpha(t)+s.a:alpha(t),color(e,i,o,h)}const $=t=>{let s=[];return t.forEach((t=>{for(let e=0;e<t[1];e++)s.push(t[0])})),random(s)};";
    string public constant HEAD =
        "<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'> <style type='text/css'> html{height: 100%; width: 100%;}body{height: 100%; width: 100%; margin: 0; padding: 0; background-color: rgb(40, 40, 40);}canvas{display: block; max-width: 100%; max-height: 100%; padding: 0; margin: auto; display: block; position: absolute; top: 0; bottom: 0; left: 0; right: 0; object-fit: contain;}</style>";

    function projectName() external pure returns (string memory) {
        return PROJECT_NAME;
    }

    function artistName() external pure returns (string memory) {
        return ARTIST_NAME;
    }

    function externalLibrary() external pure returns (string memory) {
        return EXTERNAL_LIBRARY;
    }

    function twoFiveSixLibrary() external pure returns (string memory) {
        return TWOFIVESIX_LIBRARY;
    }

    function license() external pure returns (string memory) {
        return LICENSE;
    }

    function artScript() external pure returns (string memory) {
        return ARTSCRIPT;
    }

    function head() external pure returns (string memory) {
        return HEAD;
    }
}