// SPDX-License-Identifier: MIT
pragma solidity 0.8.7;

// import "hardhat/console.sol";

contract YieldRater {

    bytes constant oneFives = hex'0002000300040006000d000f00100016001f00220026002d0036003f004400460048004a004b004f005200560057005a006400670068006c006d007a00810089009400980099009a009b009e009f00a300a700a800ae00b300b500b800ba00bc00be00c700c900ca00cd00ce00d000d100d500d700da00e800ec00ee00f300fa00fb00fc00ff0103010b010d011101150119011c011e0120012101220128012e012f01320136013c013d014001420149014a01540155015a015d016001650169016f017001750179017b017c017f018001820189018a018b018e01970199019d019f01a201a301a701a801aa01ad01ae01b701bd01be01ca01cd01ce01d001d501d601db01e501eb01f001f101f301f401fa01fc01fe02010202020402080209020b0215021702210222022302270229022a022e023202330239023f0240024e0250025d026102620269026d02710273027702780283028a028c028e0294029702980299029b02a002a202a302aa02ab02ac02b002b202b502b602b702bb02bd02be02c802ca02cc02d402d802e502f202f602fd03020306030b030c03100312031303160319031a031c032203240326032f033e033f034103470348034a034c034e03560357035f036103640365036a036b036f03700373037503780379037f03830389038a038c038d0398039e03a303a503a603ac03b203b703be03c303cd03d403db03e603fb03fd03fe040304040408040f041104170418041e04260427042c042d04300437043a043b04400446044d045104520457046204650469046c046f047d0493049f04a404a704a804aa04ae04af04b404bd04c204c704c804cb04cc04cf04d004d604df04e404e604e804eb04ec04ee04ef04fc04fd04fe05090515051b051c051d051f05280531053a053d0549054a0552055d0562056505660568056f057c058105870588058f0591059305b505b705b905bb05bd05c105cc05d205d305dc05de05e005e505e705ea05eb05ed05f105fc06000606060e060f061606180619061c06300633063f064f0658065c0662066c067506780681068f06900697069b06a006a106ae06af06b106b206b306b406b806c206c306c706c906ca06de06e206e606e706f206f806fd0701070b070f071007110715071f072107290736073a073b073c073f074c07530759075b0764077407750778077a077d077e0782078407850788078d078e07930797079b079d079f07a607ad07b207c507c907cd07d507d707e207e407e607ec07ef07f407f607fa07fd08060808080a081308150818081a08240827082c082f08300831083408380839083e08440846084a084d084f085108520854085a085d085f086f087008730876087708800885088808890893089c08a108a308a808ad08b308b908bb08c108ce08d408d508d708de08e008e208e608ef08f708f908fb08ff090309050909090d0913091c092009240926092f093409370938094109420943094b094f09500951095309570958095c095d095e0960096109650966096b096c0970097109730979097f0984098b098c098f0998099b099f09a009a109a409a709a809aa09ab09b109b609b809b909bb09bc09bd09c909ca09cc09ce09d309d809db09de09df09e209e309e709ea09f109f40a010a020a050a070a0b0a0e0a120a150a190a250a2a0a2b0a2e0a2f0a350a3c0a490a4c0a4f0a580a590a5b0a5c0a620a6a0a6d0a700a710a740a7a0a7b0a7d0a7e0a840a860a8d0a980a9b0a9e0a9f0aa00aac0aaf0ab30ab50abd0ac30acc0ada0adc0adf0ae20ae40ae50aea0aec0aed0af30af60afe0aff0b020b030b080b0d0b110b120b130b150b190b1b0b200b280b310b330b3d0b480b4d0b4f0b500b510b520b540b5c0b5d0b640b690b6b0b6d0b6f0b920b970b9e0ba00ba10bae0bb00bb70bba0bbb0bbc0bc20bc40bc50bc60bc80bcf0bd40bdb0bdf0be20be80bea0bef0bf20bf40bf50bf60bf70bf80bfa0c060c0b0c0c0c0f0c140c1a0c1c0c1d0c200c290c2a0c310c350c360c400c460c490c4b0c530c550c5c0c5d0c5e0c630c680c780c810c820c830c840c850c860c870c900c940c9c0ca10ca20ca30ca40cac0cb80cba0cd00cd60cd90cdd0cde0ce40cf10cf70cff0d000d030d050d070d080d090d0d0d140d150d220d2a0d2e0d2f0d350d370d380d390d3a0d3b0d3c0d3d0d3f0d430d440d460d480d490d4a0d4b0d530d580d5b0d5e0d600d610d640d660d6f0d760d770d7b0d7c0d850d870d8b0d8d0d900d910d940d960d970d9b0d9c0d9e0da10da40da80da90dad0db60db80dbb0dbc0dc00dc20dc50dd30dd70dd90ddf0de00de60de70de80def0dfb0dff0e030e040e060e080e0a0e0b0e0e0e0f0e180e190e1c0e1f0e200e210e250e2b0e2e0e2f0e300e340e370e390e3a0e3e0e3f0e440e490e4d0e4f0e500e590e5c0e5e0e610e620e650e6a0e6b0e6c0e740e790e810e820e830e880e8c0e8e0e940e950e960e9c0e9f0ea00ea50eaf0eb20eb30ebe0ec00ec30eca0ecb0ecd0ed70ed90ee10eea0eeb0eed0efa0f010f060f0f0f110f120f1a0f1b0f210f2e0f320f360f370f450f4b0f500f530f560f570f590f5c0f650f690f6a0f6c0f6f0f700f740f790f7a0f7c0f7d0f7e0f800f810f830f870f880f890f8d0f920fa60fb30fb70fba0fc00fc80fcc0fcd0fce0fd00fd20fd40fd50fd60fd80fdc0fde0fe10fe30fe40fe80fe90ff20ff60ff70ffb0fff1009100f10111012101e101f1028102c102d102e102f10381039103c103e104010431047104b104d105310571065106a1072107410891097109b109d10a110a210a610a810af10ba10bc10c010c110c410c610c710c810ca10d310d410d810d910e810ec10ee10f010f210f310f610f9110011051107110b110f11111113111511181119111f1126112c112d112f113211331139113a114011451148114a114c114d114e114f115011521159115c115d116111621163117011731175117711861189118d1190119b11a711a811a911b111b411b611b811bb11bc11c111c311c911cc11cd11dd11e111eb11f211f311f411f911fb1208120b120c1210121612171219122012281229122a122b1230123112321237123912401241124312471248124b124d124e12511252125d12611262126312661268126c127d1287129212a312a412a612ab12b012ba12c012c112c412c512c612c812d612d712dd12df12e212ea12eb12ed12ee12f212f412fa1300130a1311131613171319131c131d131f13261327132a132b132d132e13331339133d134013411342134e135013521358135b135f1362136413681370137313771380138b138e139213951397139e13a013a113a413a813a913ac13ae13b013b213b413b513b713b813bb13bd13ca13cf13d713e813e913f513f813fe14031405140c1410141214131416141a14261428142d1430143314351436143d144114421449144a144c14501458145b145e1465146614671468146c146d146e14781479147c147e148214871489148b148e148f149314951496149d14a114a314a814af14b214b314bf14c614c814c914d014d114d514d814e214e714eb14ee14f114f514f714f914fb14fe15001503150d151b151f1520152415251531153215381539153b153d154015411548154d154e155615591561156215651567156c156d1571157215741575157615771578157c157e158015831595159a15a015a115a215aa15ab15ac15b115b215b315b515bd15c115c415ca15d015d115d515da15db15e415e515e615e915ea15ec15ee15f215f915fa15ff16051609161016141615161a161b16221624162c162e162f1634163616381639163b163c163d16421643164a164b164d1650165b16601662166e1674167516771678167d167f1680168116871689168e169216941697169a169d16a716aa16b416b616b716bb16c016c416cf16d016d816db16dc16de16df16e616e816ea16ef16f016f216fa16fb1702170b171f1729172a172b17301732173417351736173c173d173e174017431745174b174e17521757175a175b175c175d17601761176417651768176d1770177117831784178a178f1792179417951798179f17a517a817ad17af17b517b617ba17bc17bd17bf17c217c917cd17d017d417d617da17e417e517e717f6180a1811181318161819181c181d181e18221823182f1833184318471848184a184b184c184d1850185118541864186c1870187318811884188818a318b218b918ba18bd18be18c818cf18d318db18de18f418f518f618f718fb18fc18fe1903190619071909190b190c190e190f1913191619201926192d192e19311932193e1940194419471948194a194b194d194e194f195a195b195e1969196b196d19741976197a197c198019811988198e1992199a199c199d19a219a619aa19ab19ad19ae19b019b719bf19c119c219c719c819d219d419d719da19e019e219e819e919f419fd1a001a051a081a091a0a1a0b1a151a161a1c1a1e1a1f1a231a241a281a2f1a341a471a4c1a4d1a4e1a571a5c1a641a651a661a6b1a721a751a761a771a781a811a861a881a8c1a921a9f1aa51aa91aac1aaf1ab01ab11ab21ab71ab81ab91acb1ace1ad61ad71adf1ae31ae61ae81aea1aec1af01af11af51af71af81afb1afd1aff1b001b011b021b031b051b0f1b141b161b171b1c1b1d1b211b241b261b271b281b2e1b351b361b3e1b431b4d1b531b541b551b581b591b5a1b661b671b6a1b741b751b7d1b821b831b851b881b8c1b911b941b951b9a1b9f1ba01ba21ba61bae1bb31bbf1bc11bc51bc81bcf1bd21bf01bf41bf71c041c061c0d1c171c201c211c221c231c251c271c2c1c321c371c3c1c3d1c421c451c531c5b1c5c1c5d1c691c771c7b1c7d1c7f1c821c8a1c901c911c9b1ca21ca31ca51caa1cb31cb61cb71cb81cbe1cc01cc41cc81cce1cd11cd21cd41cdc1cdd1ce01cee1cf01cf81cfb1cfc1d061d081d161d181d1e1d211d2e1d331d371d401d411d431d4f1d511d581d601d691d6b1d761d781d7a1d7c1d831d9c1da41da51da91daf1db11db21db71dba1dc41dc61dc71dc91dce1dd21dd41de11de21de31de41de61de71de91df21df31df61dff1e051e081e0e1e0f1e181e1c1e1d1e1f1e221e241e271e281e2a1e2c1e2e1e331e351e3f1e431e4e1e4f1e551e561e571e631e6c1e731e761e791e7b1e7c1e801e821e8e1e911e921e931e941ea31eaa1eb31eb41eba1ebb1ec61ecf1ed11ed81eda1ee61ee91eea1eed1eef1ef11ef21ef61efc1f071f0d1f0e1f161f171f181f191f1e1f201f251f261f271f2a1f2b1f2c1f341f3f1f401f411f441f451f4c1f531f551f5f1f621f771f781f791f7c1f7e1f841f861f881f8a1f8d1f901f941f951f981f9d1fa51fa91fae1fb01fb41fb51fb61fb71fb81fc01fc51fc61fce1fcf1fd21fd61fd81fda1fdd1fe11fe81fe91fec1ff21ff31ff61fff200420052008201020142018201920242028202a202b2032203420392049204b204f20532058205c205e206920722073207e2083208b20912092209520962097209b209e209f20a220a420a520a620aa20ac20af20b220b520b920bf20c020c920ce20cf20d320d520d720d820d920e120e420e520e920eb20ed20ee20ef20f120f820fa20fc20fd210421072109210b210d2116211c211e2126212e2139213a213f2141214321442145214921562158215a215c21622167216b216c216e217d217f21812182218321862188218d218f219321952197219c21a421a621a821a921aa21ad21b121bd21bf21cb21d821e021e321e521ea21eb21ed21ee21f121f421f621f82207220d220e221022132218222022262227222f22362237223c224122442248224b224e2251225322542256225c226222682269226a226d226e22782279227c22822287228d228e22912299229d229e22a322a422a522a822b222b722b8';

    bytes constant twos = hex'001B0031003D004000430097009D00B900C500C800FD010A016D0171018801A101B901C9021D023B0253026B027B029D02A902CD02E602EC02FC0372037A039203AB03D803E303F30416043F045A0495049704BE04EA04F8052405320538055305540556055B05740578058505A305B305CD05DF05F30603061A062B067E0682068806BC06CC06D606DB06F00728075A076507660791079207A707C807D407DC07F908230829083F08400843085E08C008D108DA08E308EA08F108F40904090F0911092C0963096E098A0993099D09C609CF0A0F0A540A630A6B0A940A950A9A0AA30AAA0ACB0AD40B2E0B650B860BA60BAA0BC10BE30BF00BFF0C170C320C390C3B0C4A0C600C670C690C9E0CB00CB10CB90CC40CEA0CEB0CF60CFA0D290D300D340D520D690DD10DE90DED0DFE0E070E110E1E0E3B0E730E770E860EAC0ED10EE80F0D0F2F0F460F5A0F680F9F0FD90FDA0FEA1006100A10101036103F10441060107F1085109410A010AA10E310FC11031108110C110E1128112A112E11411149117C1183118811A011A511CA1226125E1264126912761279129412A012AC12BD12C212FB130213131323132F1346135A1365139813AF13B113B613FB140F1437145C14721488148D14AE14B614DE15211537154C155E156F159615BC15CD15CF1623162B163A1640164816691673169816AD16CA16CB16CE16D916F916FC17211763176917C417C617CA17D317DB17FF1815181A1826184E186618741890189A189E18B418B618E518E818FA192C193A193B1945195D199E19B119C619D519EA19ED19FE1A371A391A521A7F1AA71AC61AD81B0D1B1B1B221B2A1B2D1B441B7C1B931BBC1BD11BD41BD91BE51BF31BFC1C191C311C571C611C641C651C711C831C8B1CA41CB11CBD1CE41D0E1D251D291D3E1D521D7D1D921DBC1DED1DFD1E021E261E311E3B1E5D1E6A1E6F1E751E961E9B1EAE1EB71EBC1EC21ED61EF41F0C1F0F1F3E1F5A1F691F6B1F711F7B1F831FA81FBC1FDC1FF11FFE20012006200A20202023204520A820AD20CC211F2121212D2134213C214C214F2159218A219F21A321A721D721F721FF224F227D229A22B322B6';

    function getYieldFor(uint256 id) external pure returns (uint256) {
        if (isFour(uint16(id)))    return 4 ether;
        if (isTwo(uint16(id)))     return 2 ether;
        if (isOneFive(uint16(id))) return 1.5 ether;
        return 1 ether;
    }

    function isFour(uint16 id) public pure returns (bool) {
        if (id == 518)  return true;
        if (id == 1741) return true;
        if (id == 2155) return true;
        if (id == 3185) return true;
        if (id == 4579) return true;
        if (id == 6018) return true;
        if (id == 7114) return true;
        if (id == 8349) return true;

        return false;
    }

    function isTwo(uint16 id) public pure returns (bool) {
        return isOnList(twos, 395, id);
    }

    function isOneFive(uint16 id) public pure returns (bool) {
        return isOnList(oneFives, 2143, id);
    }

    function isOnList(bytes memory list, uint256 length, uint16 id) internal pure returns (bool) {
        // Do a binary search
        uint256 middle;
        uint256 start = 0;
        uint256 end = length - 1;
        
        uint16 item; 

        while (true) {
            middle = (end - start) / 2 + start;
            item = getUintInIndex(list, middle);
            if (uint16(item) == uint16(id)) return true;
            if (uint16(start) == uint16(end)) return false;
            if (uint16(item) < uint16(id)) {
                start = middle + 1;
            } else {
                end = middle == start ? middle : middle - 1;
            }
        }
    }

    function getUintInIndex(bytes memory list, uint256 index) internal pure returns (uint16) {
        // load in memory
        uint256 start = index * 2;

        uint16 tempUint;

        assembly {
            tempUint := mload(add(add(list, 0x2), start))
        }

        return tempUint;
    }



}